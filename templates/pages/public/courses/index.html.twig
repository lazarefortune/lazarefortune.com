{% extends 'layouts/public/base.html.twig' %}

{% block title 'Toutes les vidéos premium' ~ ((page > 1) ? (', page' ~ page) : '') %}

{% block body %}
    <div class="">
        <div class="container-box py-10 space-y-10">

            <div class="course__hero">
                {% if page == 1 %}
                    <h1 class="h1">Les <span class="text-lead">vidéos</span></h1>
                    <p class="text-muted mt-2">Découvrez l'ensemble des vidéos pour apprendre de nouvelles choses.</p>
                {% else %}
                    <h1 class="h1">Les <span class="text-lead">vidéos</span> <br><span class="text-lg text-slate-900 dark:text-white">page {{ page }}</span> </h1>
                {% endif %}
            </div>

            <!-- Filtres horizontaux style YouTube -->
            <div class="filters-horizontal">
                <div class="filters-scroll">
                    <!-- Bouton "Toutes" -->
                    <a href="{{ path('app_course_index') }}"
                       class="filter-chip {% if not technology_selected %}filter-chip--active{% endif %}">
                        <svg class="filter-chip-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                        Toutes
                    </a>

                    <!-- Technologies -->
                    {% for group, techs in technologies %}
                        {% for tech in techs %}
                            <a href="{{ path('app_course_index', {'technology': tech.slug}) }}"
                               class="filter-chip {% if technology_selected and technology_selected.slug == tech.slug %}filter-chip--active{% endif %}">
                                <img src="{{ uploads_path('icons/' ~ tech.image) }}"
                                     alt="{{ tech.name }}"
                                     class="filter-chip-image">
                                <span>{{ tech.name }}</span>
                            </a>
                        {% endfor %}
                    {% endfor %}
                </div>
            </div>

            <div class="courses">
                {% for course in courses %}
                    {% include 'pages/public/courses/_course_item.html.twig' with { 'course': course } %}
                {% endfor %}
            </div>

            <div class="flex justify-center mt-8">
                {{ knp_pagination_render(courses) }}
            </div>
        </div>
    </div>
{% endblock %}
