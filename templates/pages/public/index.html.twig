{% extends 'layouts/public/base.html.twig' %}

{% block title %}Lazare Fortune - Développeur Web Passionné{% endblock %}

{% block meta %}
    <meta name="description"
          content="Comprenez et explorez avec Lazare Fortune, un développeur web passionné partageant des vidéos et playlists sur PHP, Symfony, et JavaScript."/>
    <meta name="keywords" content="Lazare Fortune, développement web, PHP, Symfony, JavaScript, vidéos, playlists"/>
    <meta name="author" content="Lazare Fortune"/>
    <meta property="og:title" content="Lazare Fortune - Comprenez et Partagez"/>
    <meta property="og:description"
          content="Découvrez des vidéos et playlists sur le développement web. Comprenez avec moi et partagez vos expériences."/>
    <meta property="og:image" content="{{ asset('images/og-image.png') }}"/>
{% endblock %}

{% block body %}
    <div class="container-box mx-auto px-4 py-16">
        <!-- Hero Section -->
        <section class="relative text-center py-10">
            <h1 class="mx-auto max-w-4xl mb-6 font-display text-4xl lg:text-7xl font-medium lg:font-semibold tracking-normal text-slate-900 sm:text-7xl reveal">
                Comprendre et
                <span class="relative whitespace-nowrap text-blue-600">
                    <svg aria-hidden="true"
                         viewBox="0 0 418 42"
                         class="absolute left-0 top-2/3 h-[0.58em] w-full fill-blue-300/70"
                         preserveAspectRatio="none">
                         <path d="M203.371.916c-26.013-2.078-76.686 1.963-124.73 9.946L67.3 12.749C35.421 18.062 18.2 21.766 6.004 25.934 1.244 27.561.828 27.778.874 28.61c.07 1.214.828 1.121 9.595-1.176 9.072-2.377 17.15-3.92 39.246-7.496C123.565 7.986 157.869 4.492 195.942 5.046c7.461.108 19.25 1.696 19.17 2.582-.107 1.183-7.874 4.31-25.75 10.366-21.992 7.45-35.43 12.534-36.701 13.884-2.173 2.308-.202 4.407 4.442 4.734 2.654.187 3.263.157 15.593-.78 35.401-2.686 57.944-3.488 88.365-3.143 46.327.526 75.721 2.23 130.788 7.584 19.787 1.924 20.814 1.98 24.557 1.332l.066-.011c1.201-.203 1.53-1.825.399-2.335-2.911-1.31-4.893-1.604-22.048-3.261-57.509-5.556-87.871-7.36-132.059-7.842-23.239-.254-33.617-.116-50.627.674-11.629.54-42.371 2.494-46.696 2.967-2.359.259 8.133-3.625 26.504-9.81 23.239-7.825 27.934-10.149 28.304-14.005.417-4.348-3.529-6-16.878-7.066Z"/>
                    </svg>
                    <span class="relative text-lead">partager</span>
                </span> le Développement Web
            </h1>
            <p class="mt-6 mb-8 max-w-xl mx-auto text-base lg:text-lg text-slate-600 reveal" data-delay=".1">
                Rejoignez-moi dans mon parcours d’apprentissage. Découvrez des vidéos et playlists sur le développement web.
            </p>
            <div class="flex justify-center sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 flex-col sm:flex-row reveal" data-delay=".2">
                <a href="{{ path('app_course_index') }}" class="btn btn-primary">Voir les vidéos</a>
                <a href="{{ path('app_contact') }}" class="btn btn-outline">Me contacter</a>
            </div>

            <!-- Cercles floutés -->
            <div class="absolute -z-10 inset-0 pointer-events-none">
                <!-- Premier cercle -->
                <div class="absolute top-0 left-0 w-64 h-64 bg-primary-500 rounded-full
                opacity-30 blur-[280px]">
                </div>
                <!-- Deuxième cercle -->
                <div class="absolute -bottom-12 right-72 w-80 h-80 bg-primary-200 dark:bg-primary-500 rounded-full
                opacity-30 blur-[280px]">
                </div>
            </div>
        </section>

        <!-- Latest Videos Section -->
        {% if latest_content is not empty %}
            <section class="mt-24 reveal relative" data-delay=".2">
                <h2 class="h1 text-center mb-6">Dernières Vidéos et Playlists</h2>

                <div style="scroll-snap-type: x proximity;" class="overflow-x-auto -mx-4 px-4 max-h-[52rem] overflow-y-hidden md:overflow-y-hidden scrollbar-hide md:overflow-visible mb-6 py-10">
                    <div class="flex md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        {% for content in latest_content %}
                            {% if content.isCourse %}
                                {% include 'pages/public/courses/_course_item.html.twig' with { course: content } %}
                            {% elseif content.isFormation %}
                                {% include 'pages/public/formations/_formation_item.html.twig' with { formation: content } %}
                            {% endif %}
                        {% endfor %}
                        <div class="flex md:hidden lg:hidden xl:hidden">
                            <div class="w-full h-full flex justify-center items-center">
                                <a href="{{ path('app_course_index') }}" class="rounded-full border border-slate-200 dark:border-slate-700 p-4">
                                    {{ icon('arrow-right', 24) }}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                {% if latest_content|length > 8 %}
                    <div class="z-[20] absolute inset-x-0 bottom-0 hidden md:flex h-36 items-end justify-center bg-gradient-to-t from-white dark:from-primary-950">
                        <a href="{{ path('app_course_index') }}" class="rounded-full py-2 px-6 bg-primary-600 text-white border-primary-600 hover:bg-primary-800 hover:border-primary-800 hover:text-white
                dark:bg-primary-600 dark:text-white dark:border-primary-600 dark:hover:bg-primary-700 dark:hover:text-white dark:hover:border-primary-700
                focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-2
                dark:focus:ring-offset-primary-950 dark:focus:ring-primary-900">
                            Voir toutes les vidéos
                        </a>
                    </div>
                {% endif %}

            </section>
        {% endif %}

        <div class="border-t border-gray-200 dark:border-gray-800 mt-16"></div>

        <!-- Technologies Section -->
        <section class="mt-16 reveal" data-delay=".2">
            <!-- Titre & description -->
            <div class="max-w-3xl mx-auto text-center mb-10">
                <h2 class="h1 mb-3">Explorez par <span class="text-lead">sujet</span></h2>
                <p class="text-lg text-muted">
                    Explorez les technologies et les sujets que j'aborde dans mes vidéos et playlists.
                </p>
            </div>

            <!-- Container global du carousel -->
            <div class="relative max-w-screen-xl mx-auto">

                <!-- Bouton de navigation gauche (caché sur mobile) -->
                <button
                        type="button"
                        class="hidden md:flex items-center justify-center absolute left-0 top-1/2 -translate-y-1/2 z-10
                   w-10 h-10 rounded-full bg-white dark:bg-slate-900 shadow
                   hover:bg-slate-50 dark:hover:bg-slate-800
                   focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-2 dark:focus:ring-offset-primary-950"
                        onclick="scrollCarousel('left')"
                        aria-label="Faire défiler vers la gauche"
                >
                    {{ icon('chevron-left', '20') }}
                </button>

                <!-- Fenêtre du carousel (masque le débordement horizontal) -->
                <div
                        id="carouselWindow"
                        class="overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar
                   mx-2 md:mx-4"
                >
                    <!-- Piste d'items -->
                    <div id="carouselTrack" class="flex gap-6 py-4">
                        {% for technology in technologies %}
                            <div
                                    class="snap-start shrink-0
                               w-64 sm:w-72 md:w-80 lg:w-80
                               border-2 border-slate-100 dark:border-slate-800
                               hover:bg-primary-50 dark:hover:bg-primary-1000
                               transition-colors duration-300
                               flex flex-col items-center justify-center
                               rounded-2xl px-4 py-5"
                            >
                                <img
                                        class="w-12 h-12 mb-2"
                                        src="{{ uploads_path('icons/' ~ technology.image) }}"
                                        alt="{{ technology.name }} icon"
                                        loading="lazy"
                                >
                                <h3 class="font-medium text-lg mb-1 text-center">
                                    {{ technology.name }}
                                </h3>
                                <p class="text-sm text-slate-600 dark:text-slate-400 text-center">
                                    {{ technology.formationCount }} Playlist{{ technology.formationCount > 1 ? 's' : '' }}
                                    •
                                    {{ technology.courseCount }} Vidéo{{ technology.courseCount > 1 ? 's' : '' }}
                                </p>
                                <a
                                        class="mt-3 inline-block text-base font-medium text-primary-600 hover:text-primary-700
                                   dark:text-primary-500 dark:hover:text-primary-400"
                                        href="{{ path('app_technology_show', { slug: technology.slug }) }}"
                                >
                                    Découvrir
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Bouton de navigation droite (caché sur mobile) -->
                <button
                        type="button"
                        class="hidden md:flex items-center justify-center absolute right-0 top-1/2 -translate-y-1/2 z-10
                   w-10 h-10 rounded-full bg-white dark:bg-slate-900 shadow
                   hover:bg-slate-50 dark:hover:bg-slate-800
                   focus:outline-none focus:ring-2 focus:ring-slate-900 focus:ring-offset-2 dark:focus:ring-offset-primary-950"
                        onclick="scrollCarousel('right')"
                        aria-label="Faire défiler vers la droite"
                >
                    {{ icon('chevron-right', '20') }}
                </button>
            </div>
        </section>

        <div class="border-t border-gray-200 dark:border-gray-800 mt-16"></div>

        <!-- About Me Section -->
        <section class="mt-20 reveal" data-delay=".2">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <img src="{{ asset('images/lazarefortune-profil.png') }}" alt="Photo de Lazare Fortune"
                         class="rounded-full shadow-lg shadow-primary-500 dark:shadow-primary-200 w-48 mx-auto md:w-64">
                </div>
                <div>
                    <h2 class="h1 mb-6">Qui suis-je ?</h2>
                    <p class="text-lg text-gray-600 dark:text-gray-300">
                        Je suis Lazare Fortune, développeur web passionné par le code et la programmation. À travers mes
                        vidéos, je partage mon apprentissage et mes découvertes sur le développement web.
                    </p>
                    <ul class="flex justify-start space-x-4 mt-4">
                        <li>
                            <a href="https://github.com/lazarefortune" target="_blank"
                               class="flex flex-col justify-center items-center text-gray-800 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">
                                {{ icon('github', '24') }} <span>GitHub</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.linkedin.com/in/lazarefortune/" target="_blank"
                               class="flex flex-col justify-center items-center text-gray-800 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">
                                {{ icon('linkedin', '24') }} LinkedIn
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/@LazareFortune" target="_blank"
                               class="flex flex-col justify-center items-center text-gray-800 hover:text-red-600 dark:text-gray-300 dark:hover:text-red-400">
                                {{ icon('youtube', '24') }} YouTube
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <div class="border-t border-gray-200 dark:border-gray-800 mt-16"></div>

        <!-- Community Section -->
        <section class="mt-16 py-16 rounded-md reveal"  data-delay=".2">
            <div class="mx-auto text-center">
                <div class="px-6 mb-10">
                    <h2 class="h1 mb-3">
                        Rejoignez la <span class="text-lead">communauté</span>
                    </h2>
                </div>

                <div class="my-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Card 1 -->
                    <div class="flex flex-col items-center p-6 text-center">
                        <div class="text-blue-600 dark:text-blue-400 mb-4">
                            {{ icon('users', '48') }}
                        </div>
                        <h3 class="h3 mb-2">
                            Sessions en groupe
                        </h3>
                        <p class="text-slate-600 dark:text-slate-400">
                            Posez vos questions et progressez ensemble grâce à des discussions interactives.
                        </p>
                    </div>

                    <!-- Card 2 -->
                    <div class="flex flex-col items-center p-6 text-center">
                        <div class="text-green-600 dark:text-green-400 mb-4">
                            {{ icon('code', '48') }}
                        </div>
                        <h3 class="h3 mb-2">
                            Accès au code source
                        </h3>
                        <p class="text-slate-600 dark:text-slate-400">
                            Téléchargez, explorez et apprenez avec des projets open-source détaillés.
                        </p>
                    </div>

                    <!-- Card 3 -->
                    <div class="flex flex-col items-center p-6 text-center">
                        <div class="text-red-600 dark:text-red-400 mb-4">
                            {{ icon('video', '48') }}
                        </div>
                        <h3 class="h3 mb-2">
                            Vidéos exclusives
                        </h3>
                        <p class="text-slate-600 dark:text-slate-400">
                            Accédez à des vidéos et playlists exclusives pour approfondir vos compétences.
                        </p>
                    </div>
                </div>

                <div class="mt-10">
                    <a href="{{ path('app_register') }}" class="btn btn-primary">
                        Rejoindre maintenant
                    </a>
                </div>
            </div>
        </section>

        <!-- Contribute Section -->
        <section class="mt-16 reveal" data-delay=".2">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="h1 mb-4">
                    Vous souhaitez <span class="text-lead">contribuer</span> ?
                </h2>
            </div>

            <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Contribuer au développement -->
                <div class="flex flex-col items-center text-center border border-slate-200 dark:border-slate-800 rounded-xl px-6 py-14">
                    <div class="flex justify-center items-center bg-primary-700 text-white p-2 rounded-lg w-10 h-10">
                        <span>{{ icon('github', 24) }}</span>
                    </div>
                    <h3 class="h3 mb-2 mt-4">Contribuez au code</h3>
                    <p class="text-muted mb-6">
                        Partagez vos idées, résolvez des problèmes et participez activement
                        au développement via GitHub.
                    </p>
                    <div class="mt-auto">
                        <a href="https://github.com/lazarefortune/lazarefortune.com"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="btn btn-outline">
                            Accéder au GitHub
                            <span class="ml-1">{{ icon('external-link', '16') }}</span>
                        </a>
                    </div>
                </div>

                <!-- Devenir auteur -->
                <div class="flex flex-col items-center text-center border border-slate-200 dark:border-slate-800 rounded-xl px-6 py-14">
                    <div class="flex justify-center items-center bg-primary-700 text-white p-2 rounded-lg w-10 h-10">
                        <span>{{ icon('pencil-line', 24) }}</span>
                    </div>
                    <h3 class="h3 mb-2 mt-4">Devenez auteur</h3>
                    <p class="text-muted mb-6">
                        Publiez vos propres vidéos ou playlists sur la plateforme.
                        Partagez vos connaissances avec la communauté et faites grandir la plateforme.
                    </p>
                    <div class="mt-auto">
                        <a href="{{ path('app_collaboration_request_index') }}"
                           class="btn btn-outline">
                            Faire ma demande
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Appointment Section -->
        <section class="mt-16 mb-16 px-4 py-12 relative">
            <div
                    class="mx-auto max-w-4xl bg-white dark:bg-slate-900 rounded-xl
               shadow-lg shadow-primary-300/40 dark:shadow-primary-700/30
               p-8 text-center"
            >
                <h2 class="h1 mb-4">
                    Besoin d'un échange plus approfondi ?
                </h2>
                <p class="text-lg text-slate-600 dark:text-slate-300 mb-6">
                    Prenons un moment pour discuter de vos projets, questions ou
                    besoins spécifiques. Réservez un créneau directement via mon
                    agenda Google.
                </p>
                <!-- Google Calendar Appointment Scheduling begin -->
                <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
                <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
                <script>
                    (function() {
                        var target = document.currentScript;
                        window.addEventListener('load', function() {
                            calendar.schedulingButton.load({
                                url: 'https://calendar.google.com/calendar/appointments/schedules/AcZssZ1vohHpoZmzm26SJpwTSSS7ChES21GSD3lIZtPEB81sOJb6Fy62AMiRN5_rg1cS21NdfHQkwJN2?gv=true',
                                color: '#039BE5',
                                label: "Prendre un rendez-vous",
                                target,
                            });
                        });
                    })();
                </script>
                <!-- end Google Calendar Appointment Scheduling -->
            </div>
        </section>


        <!-- Newsletter Section -->
        {% include 'pages/public/newsletter/_newsletter_section.html.twig' %}
    </div>
{% endblock %}


{% block javascripts__footer %}
    {{ parent() }}
    <script>
        /**
         * Fait défiler le carousel d'une «page» vers la gauche ou la droite
         */
        function scrollCarousel(direction) {
            const container = document.getElementById('carouselWindow');
            // On scrolle de la largeur visible (offsetWidth)
            const scrollAmount = container.offsetWidth;

            if (direction === 'left') {
                container.scrollLeft -= scrollAmount;
            } else {
                container.scrollLeft += scrollAmount;
            }
        }
    </script>
{% endblock %}