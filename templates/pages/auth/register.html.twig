{% extends 'layouts/public/base-auth.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block auth_body %}

    <div class="text-center mb-6">
        <h1 class="text-2xl text-lead font-medium reveal">
            Prêt à rejoindre l'aventure ?
        </h1>
        <p class="text-base text-slate-600 dark:text-slate-300 mt-2 reveal" data-delay=".2">
            Accède à toutes les playlists, sauvegarde ta progression et fais décoller tes compétences.
        </p>
    </div>


    <div class="reveal" data-delay=".3">
        <!-- Connexion sociale -->
        <div class="grid grid-cols-2 gap-3">
            <a href="{{ path('app_oauth_connect', {service: 'google'}) }}" class="btn btn-light w-full">
                <svg class="social-icon"><use href="/icons/social.svg#google"></use></svg>
                Google
            </a>
            <a href="{{ path('app_oauth_connect', {service: 'github'}) }}" class="btn btn-light w-full">
                <svg class="social-icon"><use href="/icons/social.svg#github"></use></svg>
                GitHub
            </a>
        </div>

        <!-- Séparateur -->
        <div class="flex items-center gap-3 my-4">
            <div class="flex-grow h-px bg-slate-200 dark:bg-slate-700"></div>
            <span class="text-sm text-slate-500 dark:text-slate-400">ou crée un compte classique</span>
            <div class="flex-grow h-px bg-slate-200 dark:bg-slate-700"></div>
        </div>
    </div>

    {{ form_start(registrationForm, {
        attr: {
            class: 'space-y-6 reveal',
            'data-delay': '.4'
        }
    }) }}

    <!-- Champ Email -->
    <div>
        {{ form_widget(registrationForm.email, {
            attr: {
                placeholder: 'Ton adresse e-mail'
            }
        }) }}
        <div class="form-error">{{ form_errors(registrationForm.email) }}</div>
    </div>

    <!-- Champ Mot de passe -->
    <div>
        {{ form_widget(registrationForm.plainPassword, {
            attr: {
                placeholder: 'Créer un mot de passe sécurisé'
            }
        }) }}
        <div class="form-error">{{ form_errors(registrationForm.plainPassword) }}</div>
    </div>

    <!-- Captcha -->
    {{ form_row(registrationForm.captcha) }}

    <!-- Boutons -->
    <div class="flex flex-col gap-3 mt-4">
        <button type="submit" class="btn btn-primary py-4 text-lg">
            Créer mon compte
        </button>
        <a href="{{ path('app_login') }}" class="btn btn-outline w-full">
            J’ai déjà un compte
        </a>
    </div>

    <p class="text-sm text-center text-slate-600 dark:text-slate-300 max-w-64 mx-auto">
        En vous inscrivant vous acceptez les <a href="{{ path('app_cgu') }}" class="link underline" target="_blank">conditions d’utilisation</a> du site
    </p>

    {{ form_end(registrationForm) }}

{% endblock %}
