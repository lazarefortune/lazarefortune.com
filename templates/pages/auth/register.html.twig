{% extends 'layouts/public/base-auth.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block auth_body %}

    <!-- En-t√™te avec animation -->
    <div class="w-full flex flex-col items-center text-center mb-8">
        <div class="relative mb-4 reveal">
            <!-- Ic√¥ne d√©corative avec gradient -->
            <div class="absolute inset-0 bg-gradient-to-br from-secondary-400 to-secondary-600 rounded-2xl opacity-20 blur-xl transform -rotate-6"></div>
            <div class="relative text-5xl sm:text-6xl mb-3">
                üöÄ
            </div>
        </div>
        <h1 class="text-3xl sm:text-4xl font-semibold bg-gradient-to-r from-primary-600 to-primary-500 dark:from-primary-400 dark:to-primary-300 bg-clip-text text-transparent mb-3 reveal">
            Pr√™t √† rejoindre l'aventure ?
        </h1>
        <p class="text-slate-600 dark:text-slate-300 max-w-sm text-base leading-relaxed reveal" data-delay=".1">
            Acc√®de √† toutes les playlists, sauvegarde ta progression et fais d√©coller tes comp√©tences.
        </p>
    </div>

    <!-- Boutons de connexion sociale -->
    <div class="grid grid-cols-2 gap-3 mb-6 reveal" data-delay=".2">
        <a href="{{ path('app_oauth_connect', {service: 'google'}) }}" class="btn btn-light w-full">
            <svg class="social-icon"><use href="/icons/social.svg#google"></use></svg>
            <span class="font-medium">Google</span>
        </a>
        <a href="{{ path('app_oauth_connect', {service: 'github'}) }}" class="btn btn-light w-full">
            <svg class="social-icon"><use href="/icons/social.svg#github"></use></svg>
            <span class="font-medium">GitHub</span>
        </a>
    </div>

    <!-- S√©parateur am√©lior√© -->
    <div class="flex items-center gap-4 my-6 reveal" data-delay=".25">
        <div class="flex-grow h-px bg-gradient-to-r from-transparent via-slate-300 dark:via-slate-600 to-slate-300 dark:to-slate-600"></div>
        <span class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">ou cr√©e un compte classique</span>
        <div class="flex-grow h-px bg-gradient-to-l from-transparent via-slate-300 dark:via-slate-600 to-slate-300 dark:to-slate-600"></div>
    </div>

    <!-- Formulaire d'inscription -->
    {{ form_start(registrationForm, {
        attr: {
            class: 'space-y-5 reveal',
            'data-delay': '.3'
        }
    }) }}

    <!-- Champ Email -->
    <div>
        {{ form_widget(registrationForm.email, {
            attr: {
                placeholder: 'Ton adresse e-mail',
                class: 'form-input'
            }
        }) }}
        <div class="form-error">{{ form_errors(registrationForm.email) }}</div>
    </div>

    <!-- Champ Mot de passe -->
    <div>
        {{ form_widget(registrationForm.plainPassword, {
            attr: {
                placeholder: 'Cr√©er un mot de passe s√©curis√©',
                class: 'form-input'
            }
        }) }}
        <div class="form-error">{{ form_errors(registrationForm.plainPassword) }}</div>
    </div>

    <!-- Captcha -->
    <div class="reveal" data-delay=".35">
        {{ form_row(registrationForm.captcha) }}
    </div>

    <!-- Boutons -->
    <div class="flex flex-col gap-4 pt-2">
        <button type="submit" class="btn btn-primary py-4 text-lg font-semibold">
            Cr√©er mon compte
        </button>
        <p class="text-center text-sm text-slate-600 dark:text-slate-400">
            Vous avez d√©j√† un compte ?
            <a href="{{ path('app_login') }}" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-semibold transition-colors duration-200 hover:underline ml-1">
                Se connecter
            </a>
        </p>
    </div>

    <!-- Conditions d'utilisation -->
    <p class="text-xs text-center text-slate-600 dark:text-slate-300 max-w-72 mx-auto mt-4 reveal" data-delay=".4">
        En vous inscrivant vous acceptez les <a href="{{ path('app_cgu') }}" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium hover:underline" target="_blank">conditions d'utilisation</a> du site
    </p>

    {{ form_end(registrationForm) }}

{% endblock %}
