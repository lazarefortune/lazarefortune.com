/* Masquer le textarea d'origine */
[is="chapters-editor"] {
  @apply hidden;
}

/* Conteneur des chapitres */
.chapters-editor__chapters {
  @apply list-none p-0 m-0;
}

/* Styles du chapitre */
.chapters-editor__chapter {
  @apply relative mb-4 p-2 border rounded bg-white dark:bg-primary-1000;
  @apply w-full box-border;
  @apply border-gray-300 dark:border-primary-950;
}

/* Header du chapitre */
.chapters-editor__chapter-header {
  @apply flex items-center mb-2 p-4;
  @apply bg-white dark:bg-primary-1000;
  @apply border-b border-gray-300 dark:border-primary-950;
}

/* Handle du chapitre */
.chapters-editor__chapter-handle {
  @apply min-w-5 min-h-5 mr-2 cursor-move;
}

/* Input du chapitre */
.chapters-editor__chapter-input {
  @apply flex-grow text-lg font-semibold bg-transparent border-none outline-none;
  @apply text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400;
}

/* Bouton de suppression du chapitre */
.chapters-editor__chapter-delete {
  @apply ml-2 text-red-500 hover:text-red-700;
  @apply p-2 bg-transparent border-none cursor-pointer;
  @apply transition-colors duration-200 ease-in-out flex items-center justify-center;
  @apply focus:outline-none focus:ring-2 focus:ring-red-500 rounded;
}

.chapters-editor__chapter-delete svg {
  @apply w-5 h-5;
}

/* Conteneur des cours du chapitre */
.chapters-editor__chapter-courses {
  @apply list-none p-0 m-0;
}

/* Styles du cours */
.chapters-editor__course {
  @apply relative flex items-center px-2 py-3 mb-2 rounded border;
  @apply bg-gray-50 dark:bg-primary-950 text-gray-900 dark:text-gray-200;
  @apply w-full box-border;
  @apply border-gray-200 dark:border-primary-950;
}

.chapters-editor__course-handle {
  @apply min-w-4 min-h-4 mr-2 cursor-move;
}

.chapters-editor__course-link {
  @apply flex-grow text-current no-underline;
}

.chapters-editor__course-delete {
  @apply ml-2 text-red-500 hover:text-red-700;
  @apply p-2 bg-transparent border-none cursor-pointer;
  @apply transition-colors duration-200 ease-in-out flex items-center justify-center;
  @apply focus:outline-none focus:ring-2 focus:ring-red-500 rounded;
}

.chapters-editor__course-delete svg {
  @apply w-5 h-5;
}

/* Bouton pour ajouter un cours */
.chapters-editor__add-course {
  @apply mb-2 relative;
}

.chapters-editor__add-course-input-wrapper {
  @apply relative w-full;
}

.chapters-editor__add-course-input {
  @apply w-full p-2 border rounded bg-white dark:bg-primary-950;
  @apply text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400;
  @apply border-gray-300 dark:border-primary-950;
}

/* Styles pour la liste des suggestions */
.chapters-editor__suggestions {
  @apply absolute top-full left-0 z-10 bg-white dark:bg-primary-950 border rounded w-full max-h-56 overflow-y-auto list-none p-0;
  @apply border-gray-300 dark:border-primary-950;
  @apply mt-0;
  @apply hidden;
}

.chapters-editor__suggestion {
  @apply p-2 cursor-pointer text-gray-900 dark:text-gray-200;
}

.chapters-editor__suggestion:hover,
.chapters-editor__suggestion.selected {
  @apply bg-gray-100 dark:bg-primary-1000;
}

.chapters-editor__suggestion:not(:last-child) {
  @apply border-b border-gray-200 dark:border-primary-950;
}

/* Bouton pour ajouter un chapitre */
.chapters-editor__add-chapter {
  @apply flex items-center mt-4;
}

.chapters-editor__add-chapter-input {
  @apply flex-grow p-2 border rounded bg-white dark:bg-primary-950;
  @apply text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400;
  @apply border-gray-300 dark:border-slate-700;
}

.chapters-editor__add-chapter-button {
  @apply md:ml-2 p-2 bg-primary-500 text-white rounded hover:bg-primary-600;
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500;
}

/* Ajustements pour les appareils mobiles */
@media (max-width: 640px) {
  .chapters-editor__chapter {
    @apply p-0;
  }

  .chapters-editor__chapter-header {
    @apply p-3;
  }

  .chapters-editor__chapter-courses {
    @apply p-3;
  }

  .chapters-editor__course {
    @apply px-2 py-2;
  }

  .chapters-editor__add-chapter {
    @apply flex-col items-stretch;
  }

  .chapters-editor__add-chapter-input {
    @apply mb-2;
  }

  .chapters-editor__add-chapter-button {
    @apply w-full;
    @apply flex items-center justify-center;
    @apply text-base p-2;
  }
}

/* Styles pour l'élément choisi (élément original en cours de déplacement) des cours */
.chapters-editor__sortable-chosen {
  //@apply opacity-0;
}

/* Styles pour l'élément fantôme (placeholder) des cours */
.chapters-editor__sortable-ghost {
  @apply bg-gray-200 dark:bg-primary-900;
  @apply border-2 border-dashed border-gray-400 dark:border-primary-700;
  @apply rounded;
  //@apply h-12;
  @apply opacity-100;
}

/* Styles pour l'élément choisi (élément original en cours de déplacement) des chapitres */
.chapters-editor__sortable-chosen-chapter {
  //@apply opacity-0;
}

/* Styles pour l'élément fantôme (placeholder) des chapitres */
.chapters-editor__sortable-ghost-chapter {
  @apply bg-gray-200 dark:bg-primary-800;
  @apply border-2 border-dashed border-gray-400 dark:border-primary-700;
  @apply rounded;
  @apply opacity-100;
}

/* Styles pour l'élément en cours de déplacement des chapitres */
.chapters-editor__sortable-drag-chapter {
  @apply bg-white dark:bg-primary-1000;
  @apply rounded;
  @apply overflow-hidden;
  @apply h-auto;
}

/* Cacher le contenu (les cours) pendant le drag */
.chapters-editor__sortable-drag-chapter .chapters-editor__chapter-courses {
  @apply hidden;
}
